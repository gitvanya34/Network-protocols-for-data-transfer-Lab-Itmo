# Лабораторная работа №5. UDP пакеты.

## Задача: Студент посылает UDP широковещательные пакеты с помощью любого языка программирования.
##### IP Адрес 109.167.241.225
#####  Порт отправителя 61556
#####  Порт получателя 61557

* Студент должен послать ряд математической функции y=f(i), где i – итерация цикла, формирующего функцию.
* Вид функции студент выбирает самостоятельно.  Количество значений – 100. 
* Все значения записываются в единый лог данного UDP порта. Формат: 2023-02-20-17-10-18,599	<ДАННЫЕ> Студент должен позаботиться над тем, чтобы иметь возможность отделить свои данные от данных прочих студентов (например, добавлять фамилию). 
* Получатель на сервере записывает все полученные данные в лог. 
* Лог сохраняется в папке, которая доступна через ftp.
* После того как студент послал данные, он должен обратиться к ftp серверу с помощью любого языка программирования и забрать лог файл для обработки.

* После парсинга файла обработки студент сравнивает расшифрованные данные с исходными и определяет, какой процент информации дошел. 
* Побочная задача – подобрать максимальную скорость передачи данных. 
#### Запускаем скрипт [lab5UdpAndFtp.ipynb](lab5UdpAndFtp.ipynb)
Отправляем на адрес 109.167.241.225:61557 100 пакетов   
```python
import socket
import math

UDP_IP = "109.167.241.225"
UDP_PORT = 61557

for i in range(-50,50):
  sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
  sock.sendto(bytes(f'Gubenko {i}', "utf-8"), (UDP_IP, UDP_PORT))
```

Данные из пакетов должны записаться в файл на сервере
Просмотриваем каталог ftp сервера и открываем файл логов
```python
import ftplib
from io import BytesIO

HOSTNAME = "KharytonovFTP"
USERNAME = "Student"
PASSWORD = "FksG5$%^rgtdSDFH"
 
ftp_server = ftplib.FTP()
ftp_server.connect("109.167.241.225",21)
ftp_server.login("Student","FksG5$%^rgtdSDFH")

ftp_server.encoding = "utf-8"
ftp_server.dir()

r = BytesIO()
list_log = ftp_server.retrlines('RETR UDP log.txt')

ftp_server.quit()
```

```log
03-02-23  09:44PM                11411 Event structure.vi
02-28-23  05:34PM                   37 qwe.txt
02-28-23  05:35PM                   37 qwe1.txt
02-28-23  05:36PM                   37 qwe2.txt
03-02-23  09:44PM                14313 State machine.vi
02-28-23  06:43PM                 4295 states.ctl
02-28-23  05:56PM                25502 TEST02.vi
03-04-23  06:13PM                88844 UDP log.txt
��������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������2023-02-20-17-10-18,098	0,700494
2023-03-04-18-04-14,582	TEST1234 123456666
2023-03-04-18-13-44,328	Gubenko -46
2023-03-04-18-13-44,328	Gubenko -49
2023-03-04-18-13-44,328	Gubenko -50
2023-03-04-18-13-44,328	Gubenko -47
2023-03-04-18-13-44,328	Gubenko -48
2023-03-04-18-13-44,328	Gubenko -45
2023-03-04-18-13-44,328	Gubenko -44
2023-03-04-18-13-44,328	Gubenko -41
2023-03-04-18-13-44,328	Gubenko -43
2023-03-04-18-13-44,328	Gubenko -40
2023-03-04-18-13-44,328	Gubenko -42
2023-03-04-18-13-44,328	Gubenko -39
2023-03-04-18-13-44,328	Gubenko -37
2023-03-04-18-13-44,328	Gubenko -38
2023-03-04-18-13-44,328	Gubenko -35
2023-03-04-18-13-44,328	Gubenko -34
2023-03-04-18-13-44,328	Gubenko -33
2023-03-04-18-13-44,328	Gubenko -36
2023-03-04-18-13-44,329	Gubenko -32
2023-03-04-18-13-44,329	Gubenko -31
2023-03-04-18-13-44,329	Gubenko -30
2023-03-04-18-13-44,330	Gubenko -27
2023-03-04-18-13-44,330	Gubenko -29
2023-03-04-18-13-44,330	Gubenko -26
2023-03-04-18-13-44,330	Gubenko -28
2023-03-04-18-13-44,330	Gubenko -21
2023-03-04-18-13-44,330	Gubenko -25
2023-03-04-18-13-44,330	Gubenko -19
2023-03-04-18-13-44,330	Gubenko -24
2023-03-04-18-13-44,330	Gubenko -22
2023-03-04-18-13-44,330	Gubenko -23
2023-03-04-18-13-44,330	Gubenko -17
2023-03-04-18-13-44,330	Gubenko -20
2023-03-04-18-13-44,331	Gubenko -18
2023-03-04-18-13-44,331	Gubenko -16
2023-03-04-18-13-44,331	Gubenko -14
2023-03-04-18-13-44,331	Gubenko -15
2023-03-04-18-13-44,331	Gubenko -13
2023-03-04-18-13-44,333	Gubenko -12
2023-03-04-18-13-44,333	Gubenko -11
2023-03-04-18-13-44,333	Gubenko -10
2023-03-04-18-13-44,333	Gubenko -9
2023-03-04-18-13-44,335	Gubenko -8
2023-03-04-18-13-44,335	Gubenko -7
2023-03-04-18-13-44,335	Gubenko -6
2023-03-04-18-13-44,335	Gubenko -5
2023-03-04-18-13-44,335	Gubenko -4
2023-03-04-18-13-44,335	Gubenko -3
2023-03-04-18-13-44,335	Gubenko -2
2023-03-04-18-13-44,335	Gubenko -1
2023-03-04-18-13-44,335	Gubenko 0
2023-03-04-18-13-44,335	Gubenko 1
2023-03-04-18-13-44,335	Gubenko 2
2023-03-04-18-13-44,335	Gubenko 3
2023-03-04-18-13-44,335	Gubenko 4
2023-03-04-18-13-44,336	Gubenko 5
2023-03-04-18-13-44,337	Gubenko 6
2023-03-04-18-13-44,337	Gubenko 7
2023-03-04-18-13-44,337	Gubenko 8
2023-03-04-18-13-44,337	Gubenko 9
2023-03-04-18-13-44,338	Gubenko 10
2023-03-04-18-13-44,338	Gubenko 11
2023-03-04-18-13-44,338	Gubenko 12
2023-03-04-18-13-44,338	Gubenko 13
2023-03-04-18-13-44,339	Gubenko 14
2023-03-04-18-13-44,339	Gubenko 15
2023-03-04-18-13-44,350	Gubenko 16
2023-03-04-18-13-44,350	Gubenko 17
2023-03-04-18-13-44,350	Gubenko 18
2023-03-04-18-13-44,350	Gubenko 19
2023-03-04-18-13-44,350	Gubenko 20
2023-03-04-18-13-44,350	Gubenko 21
2023-03-04-18-13-44,350	Gubenko 22
2023-03-04-18-13-44,350	Gubenko 23
2023-03-04-18-13-44,350	Gubenko 24
2023-03-04-18-13-44,350	Gubenko 25
2023-03-04-18-13-44,350	Gubenko 26
2023-03-04-18-13-44,350	Gubenko 27
2023-03-04-18-13-44,350	Gubenko 28
2023-03-04-18-13-44,351	Gubenko 29
2023-03-04-18-13-44,351	Gubenko 30
2023-03-04-18-13-44,351	Gubenko 31
2023-03-04-18-13-44,351	Gubenko 32
2023-03-04-18-13-44,351	Gubenko 33
2023-03-04-18-13-44,351	Gubenko 34
2023-03-04-18-13-44,351	Gubenko 35
2023-03-04-18-13-44,351	Gubenko 36
2023-03-04-18-13-44,351	Gubenko 37
2023-03-04-18-13-44,352	Gubenko 38
2023-03-04-18-13-44,352	Gubenko 39
2023-03-04-18-13-44,352	Gubenko 40
2023-03-04-18-13-44,352	Gubenko 41
2023-03-04-18-13-44,352	Gubenko 42
2023-03-04-18-13-44,352	Gubenko 43
2023-03-04-18-13-44,352	Gubenko 44
2023-03-04-18-13-44,352	Gubenko 45
2023-03-04-18-13-44,352	Gubenko 46
2023-03-04-18-13-44,352	Gubenko 47
2023-03-04-18-13-44,352	Gubenko 48
2023-03-04-18-13-44,352	Gubenko 49
221 Goodbye.
```
 